{% extends "base.html" %}

{% block content %}
<div class="mb-4 text-center">
    <h1>Outfit Generator</h1>
    <p style="color: var(--text-light);">Let AI create your look.</p>
</div>

<!-- Generate Form -->
<div class="card mb-4" style="max-width: 600px; margin: 0 auto; text-align: center;">
    <form action="/generator" method="post">
        <p class="mb-4">Select an occasion and let AI curate your look.</p>

        <div class="form-group mb-4" style="text-align: left;">
            <label for="occasion">Occasion</label>
            <select id="occasion" name="occasion"
                style="width: 100%; padding: 0.8rem; border: 1px solid #e2e8f0; border-radius: 0.5rem;">
                <option value="Any" {% if occasion_input=='Any' %}selected{% endif %}>Any Occasion</option>
                <option value="Casual" {% if occasion_input=='Casual' %}selected{% endif %}>Casual</option>
                <option value="Work" {% if occasion_input=='Work' %}selected{% endif %}>Work</option>
                <option value="Party" {% if occasion_input=='Party' %}selected{% endif %}>Party</option>
                <option value="Formal" {% if occasion_input=='Formal' %}selected{% endif %}>Formal</option>
            </select>
        </div>

        <button type="submit" class="btn" style="width: 100%; font-size: 1.2rem; padding: 1rem;">âœ¨ Generate
            Outfit</button>
    </form>
    {% if error %}
    <p class="text-danger mt-4">{{ error }}</p>
    {% endif %}
</div>

<!-- Result -->
{% if outfit %}
<div style="margin-top: 3rem;">
    <!-- Score and Explanation removed -->

    <div class="grid-cols-3">
        <!-- Shirt -->
        <div class="card text-center">
            <h3 class="mb-4">Top</h3>
            <div
                style="height: 200px; background-color: #f1f5f9; border-radius: 0.5rem; overflow: hidden; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center;">
                <img src="/static/uploads/{{ outfit.shirt.image_filename }}"
                    style="max-width: 100%; max-height: 100%; object-fit: contain;">
            </div>
            <p style="font-weight: 500;">{{ outfit.shirt.color }}</p>
        </div>

        <!-- Pant -->
        <div class="card text-center">
            <h3 class="mb-4">Bottom</h3>
            <div
                style="height: 200px; background-color: #f1f5f9; border-radius: 0.5rem; overflow: hidden; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center;">
                <img src="/static/uploads/{{ outfit.pant.image_filename }}"
                    style="max-width: 100%; max-height: 100%; object-fit: contain;">
            </div>
            <p style="font-weight: 500;">{{ outfit.pant.color }}</p>
        </div>

        <!-- Shoe -->
        <div class="card text-center">
            <h3 class="mb-4">Shoes</h3>
            <div
                style="height: 200px; background-color: #f1f5f9; border-radius: 0.5rem; overflow: hidden; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center;">
                <img src="/static/uploads/{{ outfit.shoe.image_filename }}"
                    style="max-width: 100%; max-height: 100%; object-fit: contain;">
            </div>
            <p style="font-weight: 500;">{{ outfit.shoe.color }}</p>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}